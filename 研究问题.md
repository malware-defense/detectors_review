## 1. 攻击 AdvDroidZero
初始所有数据集：15356  
训练集：12284   (HIV:12247)
测试集：3072    (HIV:3060)

训练集：12284 用来训练target模型
测试集：3072 中采样100个良性样本用来构建扰动集合，3072 中采样200个恶意样本(且满足target模型检测为恶意)用来构建扰动集合

200个对抗样本中部分样本攻击成功

对抗样本生成时间：200个/9小时
 
## 问题1：AdvDroidZero和HIV的数据集规模不完全一致


## 2. 数据集
尝试1：200个对抗样本 + 3072个良性样本:
Accuracy 0.7左右，F1仅0.3-0.4

尝试2：200个对抗样本 + 随机采样等量数据样本 

问题2：数据集的随机采取是否需要原来的对抗样本

## 3. 检测
1. 基于分类器的结果训练的target model
2. 数据集是否需要重新过滤(对抗样本生成的时候是过滤的)
3. 后续实验是否可设置 不平衡数据集(real world)实验
4. 对照
5. mamadroid 训练出来的target model检测结果很低
6. 检测时是否有必要
7. 如何理解loss landspace：就是模型的loss图，对于不同位置(x, y)的点，模型predict的loss不同。  
   [对抗样本和常规样本：对抗样本分区更离散？]
   [第二种理解：对抗样本往不同的方向叠加扰动，扰动后形成的图像]
   [x 、 多个方向、 多种强度的扰动 :最低处是原始的对抗样本]
8. 大问题：fs、magnet、lid对二维图片数据适应，但drebin、apigraph的数据结构是一维向量，如何处理？
   - 就当做一维处理，height设置为1
   - 针对mamaDroid设置为(11, 11)，针对但drebin、apigraph等按照size设计对应结构


## 3. 规划
1. 5.9 - 5.12 同步生成对抗样本  +  检测结果基本实现
2. 5.13 - 5.14 sharpness检测结果优化  [model、attack正则化等]   方法篇论文撰写
3. 5.15 - 5.17 新的检测方法 -- 对照(说服力、有reademe说明)
4. 5.18 - 5.22 三种baseline 文档、重新确认逻辑及疏漏(跑出最优结果)     实验篇论文撰写


5.14 目标：
1. 上午 FS、LID检测出结果

核心问题1：FS、LID、MagNet等方法无法检测一维数据
- sharpness
  - 微调，方法可处理一或二维数据，涉及正则化等
- FS   2:00-3:00
  - bit-depth可用、  局部平滑、非局部平滑不可用
- LID  3:00-4:00
  - 能否实现
  - 
- MagNet   4:00-5:00
  - 核心原理
  - 
- 再找个最新的研究 最好是2023以后的 & 能处理一维数据的方法
- 直接切模型

5:00 - 6:00 研究BagAmmmo如何生成对抗样本？？速度很慢？？


进度：
1. 攻击方面：BagAmmo已针对MamaDroid、APIGraph(MamaDroid) 在RF分类器下生成对抗样本，但另一种对照实验GCN缺乏实现(学长说需要找下，不一定能找到)
2. 检测方面：FS等针对二维数据的方法，一维层面是否适用？


5.22
1. 上午完成fs、lid检测
2. 下午完成MagNet检测
3. 和李珩学长讨论

4. FS论文理解并做出解析
5. LID论文理解并做出解析
6. MagNet 论文理解并做出解析
明天务必要和学姐汇报


5.23 
1. 阈值实验开始完成
2. 和学姐讨论 理清检测方法

5.24
1. 阈值实验完成

## 数据维度截取    [5.23 晚上需完成，重新跑取各实验的结果，需先厘清各实验对数据的要求，可以先从magnet入手、classifier]
mamadroid-family 11 * 11
mamadroid-family 125 * 125
drebin 180741    应该padding：426 * 426 = 181476
apigraph 180590   应该padding：425 * 425 = 180625

上述数据提前进行padding填充
classifier 分类器数据读取为(a, b, c, d), DAE等模型数据读取为(a, b, c, d)

1. 数据规格范式：对于攻击方来说，其数据统一保存为(apk_num, feature_num);
2. 数据规格范式：对于检测方来说，其数据格式受classifier、sharpness[多种维度数据均可处理]、FS、LID()、MagNet()

可考虑的是：对于任何数据，先处理为四维数据，理论来说对于其他模型四维数据均可用？(最好先看下图像领域的数据格式)
    - 大维矩阵csr_trix 训练分类器不好处理
    - x_train 先转化为 ndarray，填充，再转化为csr_trix，进行训练  [原则也是转化为四维数据，仅仅是为了方便训练]
    - x_test、x_adv就统一转化为四维数据？
    - 谁说四维就不能重新转化为稀疏矩阵了？
    - 通过参数控制是否需要截取，不论是否截取所有数据均为四维，


## 各模型实验结果差
1. 厘清各实验的逻辑，按照FS、LID、MagNet厘清
2. 按照val、test得出F1值
3. 直接按照最优阈值的方式求取最佳F1值

## 实验流程全自动化
1. 做好各实验笔记
2. BagAmmo

## 阈值实验   [5.24 需完成]
1. 厘清总共几个阈值
2. 实验结果如何随阈值进行变化，每个实验的最优阈值各是多少？
3. 如何选取最优阈值？？？

## BagAmmo攻击   [5.23 下午需完成]
1. 如何进行过滤？
    1.1 准备family的集合，读取一个function，判断对应family是否存在，若存在，加载将对应family移除；若不存在，continue  缺点：容易导致function堆积
    1.2 若family集合为空，则相反
    1.3 更改记录：仅对nodes_l、nodes_f进行过滤，通过args.filter决定是否过滤   filter_nodes_by_package(nodes_l, all_funcs)
    1.4 对于一个函数，先计算其match
    1.5 self.package_call_times处不能更改，因为其决定了函数调用的次数

2. 是否已保证各实验采取的数据一致？
    2.1 通过dataset_attack_MaMa_sample，判断是否采用random

3. 先用mamaroid-rf 与 apigraph-svm跑取结果
    3.1 参数化改写代码，并保存好复现命令


## 分类器基础检测结果较差(mamdroid模型下)